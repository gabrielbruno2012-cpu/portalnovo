<!-- SIDEBAR COLABORADOR RECOLHÃVEL -->
<aside class="sidebar" id="sidebar">
  <div class="logo-area">
    <span class="menu-toggle" onclick="toggleSidebar()">â˜°</span>
  </div>

  <nav class="menu">
    <a href="/colaborador/dashboard.html"><span class="icon">ğŸ </span><span class="menu-text">Dashboard</span></a>
    <a href="/colaborador/demonstrativo.html"><span class="icon">ğŸ“Š</span><span class="menu-text">Demonstrativo</span></a>
    <a href="/colaborador/solicitar_emprestimo.html"><span class="icon">ğŸ“</span><span class="menu-text">Solicitar EmprÃ©stimo</span></a>
    <a href="/colaborador/status_emprestimos.html"><span class="icon">ğŸ“„</span><span class="menu-text">Status de EmprÃ©stimos</span></a>
    <a href="/colaborador/incentivos.html"><span class="icon">ğŸ¯</span><span class="menu-text">Incentivos & Metas</span></a>

    <a href="#" onclick="logoutEverywhere()"><span class="icon">ğŸšª</span><span class="menu-text">Sair</span></a>
  </nav>
</aside>

<script>
function logoutEverywhere() {
  // Compat: versÃµes antigas gravavam em 'user'
  localStorage.removeItem('user');
  // VersÃ£o atual do portal
  localStorage.removeItem('usuario');
  // ApiClient (se estiver sendo usado)
  localStorage.removeItem('coelholog_user');
  window.location.href = '/';
}

// Alternar sidebar recolhida
function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  const main = document.querySelector('.main');

  sidebar.classList.toggle('collapsed');
  if (main) main.classList.toggle('collapsed');

  localStorage.setItem('sidebar_collapsed', sidebar.classList.contains('collapsed'));
}

// Manter estado ao recarregar
document.addEventListener('DOMContentLoaded', () => {
  const collapsed = localStorage.getItem('sidebar_collapsed') === 'true';
  if (collapsed) {
    document.getElementById('sidebar').classList.add('collapsed');
    const main = document.querySelector('.main');
    if (main) main.classList.add('collapsed');
  }
});
</script>
